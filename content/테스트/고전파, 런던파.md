## 둘의 차이점 : ‘단위’에 대한 정의

- 고전파 : 하나의 기능을 단위로 본다.
→ 하나의 기능을 위한 모든 협력 객체를 합쳐서 단위로 본다.
- 런던파 : 하나의 클래스를 단위로 본다.
→ 하나의 기능을 위한 다른 협력 객체는 제거하고 단위로 본다.
## 테스트 차이
- 예시 : `블라블라 기능 : HTTP → A 객체 → B 객체 → C 객체 → Database`
- 고전파 (블라블라 기능 테스트)
    - A, B, C 객체를 모두 실제 객체로 처리한다.
    - HTTP, Database 같은 외부 종속성은 테스트 대역을 활용한다.
    - 기능에 의한 결과값을 주로 검증한다.
        - **결과값 검증이라고도 한다.**
    - 결과값만을 검증하므로 비교적 테스트가 깨지지 않는다.
- 런던파 (B 테스트)
    - B 객체를 실제 객체로 처리한다.
    - A, C 객체를 테스트 대역을 활용한다.
    - 해당 기능을 수행하기 위한 행위(외부 객체를 호출한다 등)를 주로 검증한다.
        - **행위 검증이라고도 한다.**
    - 내부 구현에 종속적이므로 테스트가 깨지기 쉽다.

## 결과값 검증 VS 행위 검증

```java
// 결과값 검증
var result = classB.run();

assertThat(result).isEqaulTo(10);

// 행위 검증
classB.run();

verify(classA).sendEmail();
verify(classC).findUser();
```

- 결과값 검증
    - 기능을 검증한다.
    - 잘 동작하는가?
- 행위 검증
    - 상호작용을 검증한다.
    - 메시지를 잘 전달하는가?

## 런던파는 왜 행위 검증에 집중하는가?

- 런던파는 객체 간의 협력을 설계의 중점으로 본다.
- 즉, 객체지향적으로 잘 설계되어 있는지를 검증하고 싶어한다.
- ‘B는 A에게 이런 메시지를 보내고, C에게 이런 메시지를 보내야 해.’
- 그러면 런던파는 기능 검증을 안하는가?
    - 그렇진 않다.
    - 기능 검증을 위해 결과값 검증도 같이 섞는다.

## 나는…?

- 핵심적인 기능을 수행하는 객체일수록 결과값 검증이 중요하다.
    - 도메인 모델
- 메시지를 전달하는 객체일수록 행위 검증이 중요하다.
    - 애플리케이션 서비스
- 대상에 따라 둘을 적절하게 섞어 쓰는 것이 좋을 듯!