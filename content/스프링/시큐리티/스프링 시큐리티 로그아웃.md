## 세션 기반 인증 방식에서의 로그아웃

- 다음과 같이 설정하면 로그아웃을 만들어줄 수 있다.
- 쿠키 제거, HttpSession 비활성화, SecurityContextHolder 비우기를 한다.
    
    ```java
    .logout(logout -> logout
        .logoutUrl("/api/logout")
        .clearAuthentication(true)
        .invalidateHttpSession(true)
        .deleteCookies("JSESSIONID")
        .logoutSuccessHandler((req, res, auth) -> res.setStatus(200))
    )
    ```
    

## 토큰 기반 인증 방식에서의 로그아웃

- 토큰 기반에서는 기본적으로 서버 수준의 로그아웃이 존재하지 않는다.
    - JS 수준에서 토큰을 제거하는 것이 보통이다.
- 하지만 토큰이 탈취되었을 경우를 대비하여 블랙리스트를 운용하고, 로그아웃시 블랙리스트에 올리는 것도 가능하다.
    - 이 경우 필터를 통해 매번 블랙리스트를 조회해주어야 한다.