- [[Dockerfile]], [[도커 컴포즈]] 등에서 헬스체크를 포함시킬 수 있다.
- 헬스체크에 실패하면 unhealthy 상태가 된다. 이는 `docker ps`에서 나타난다.
- 이를 통해 오케스트레이션 환경에서는 자동 복구를 하거나, 다른 컨테이너 시작 시점을 조정할 수 있다.
- Dockerfile에서
```dockerfile
HEALTHCHECK --interval=30s --timeout=3s --retries=3 \ CMD curl -f http://localhost:8080/actuator/health || exit 1
```
- docker-compose에서
```yml
healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8080/actuator/health"]
      interval: 30s
      timeout: 3s
      retries: 3
      start_period: 40s
```