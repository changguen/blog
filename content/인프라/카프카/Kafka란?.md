- [유튜브](https://youtu.be/vHbvbwSEYGo?si=bvaKFbYzlBgIYdn9)
- **분산 이벤트 스트리밍 플랫폼**이다.
	- 여러 시스템이 데이터를 주고 받는 창구 역할이다.
- 이벤트기반 스트리밍 아키텍쳐의 핵심 요소이다.
- 이벤트 스트리밍이란? : 여러 이벤트 소스에서 실시간으로 데이터를 '이벤트 스트림' 형태로 받아들이고, 이를 조작/처리 하여 필요에 따라 다양한 대상으로 라우팅하는 것
## 카프카가 제공하는 것
- 이벤트 스트림을 게시/구독하여 외부 시스템과의 연속적인 데이터 내보내기/가져오기를 제공한다.
- 이벤트 스트림을 내구성/신뢰성 있게 원하는 만큼 저장한다.
- 이벤트 스트림을 실시간 또는 사후에 처리한다.
- 위 기능들을 분산형/확장가능/탄력적/내결함성/안전하게 제공한다.
## 왜 사용하는가?
- 시스템이 서로 통신하지 않고, 카프카에만 통신하므로 결합도가 감소한다.
- 메시지를 일정기간 디스크에 저장하기 때문에 컨슈머가 다운되어도 복구 후 복구가 가능하다. (내구성)
- 높은 처리량을 가진다. (밀리초 단위로 전달됨)

**추가적인 특징**
- 순서 보장 : 같은 파티션 내에서는 메시지가 발행된 순서대로 저장/처리된다.
- 분산 처리 : 여러 컨슈머가 파티션을 나눠서 메시지를 병렬로 처리할 수 있다.
- 높은 처리량
	- 순차적 I/O
		- 카프카는 내부적으로 큐를 사용하는 것이 아니라, 로그처럼 디스크에 순차적으로 append-only 방식으로 저장한다.
		- 따라서 랜덤 엑세스가 아니기 때문에, 디스크를 읽더라도 매우 빠르다.
	- 제로 카피
		- 카프카는 기존처럼 커널에서 데이터를 읽어오고, 이를 다시 커널을 통해 데이터를 보내지 않는다.
		- 카프카는 시스템 콜을 활용하여 커널공간에 직접적으로 네트워크로 보낸다.
## 주요 개념
- `Event` : 비즈니스적으로 의미있는 사건
- `Producer` : 이벤트를 카프카에 게시하는 클라이언트
- `Consumer` : 카프카에서 이벤트를 구독하는 클라이언트
- `Broker` : 카프카 서버, 이벤트를 저장하고 관리한다.
- `Topic` : 이벤트가 저장되는 논리적 카테고리, 이벤트는 이 안에 영구 저장된다.
  다중 프로듀서/컨슈머 구조를 가진다.
  주제 내의 이벤트는 반복적으로 읽을 수 있다. (소비 후 삭제되지 않는다.) 대신에 이벤트 보존 기간을 설정하게 되며, 이 이후에는 자동 삭제된다.
- `Partition` : 하나의 토픽을 물리적으로 분리하여 병렬처리와 확장성 제공한다.
  하나의 이벤트는 여러 파티션 중 하나에 저장될 수 있다.
- `Consumer Group` : 여러 컨슈머가 협력하여 이벤트를 분산 처리
## 카프카로 할 수 있는 것들
- 시스템 간 비동기 통신 (메시징 시스템)
- 로그 수집 중앙화 및 집계
- [[이벤트소싱]]
- [[CDC]]